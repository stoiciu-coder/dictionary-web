<!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="UTF-8">
<title>Dicționar – Auto CSV din folderul curent</title>
<style>
    body { font-family: Arial; margin: 20px; }
    table { border-collapse: collapse; width: 100%; margin-top: 20px; }
    th, td { border: 1px solid #888; padding: 8px; }
    th { background: #eee; }
</style>
</head>

<body>
<h2>Dicționar încărcat automat din CSV (folderul curent)</h2>

<table id="dictTable">
    <thead>
        <tr>
            <th>Coloana 1</th>
            <th>Coloana 2</th>
            <th>Coloana 3</th>
        </tr>
    </thead>
    <tbody></tbody>
</table>

<script>
const CSV_FILE = "dictionary.csv";

window.onload = () => loadCSV();

function loadCSV() {
    fetch(CSV_FILE)
        .then(r => r.text())
        .then(text => {
            const rows = csvToArray(text);
            renderTable(rows);
        })
        .catch(err => {
            console.error("Eroare CSV:", err);
            alert("Nu s-a putut încărca dictionary.csv");
        });
}

function csvToArray(text) {
    return text
        .split(/\r\n|\n|\r/)         // suportă toate tipurile de newline
        .filter(line => line.trim().length > 0)
        .map(line => {
            line = line.replace("\uFEFF", "");  // elimină BOM
            const delimiter = line.includes(";") ? ";" : ",";
            return line.split(delimiter).map(s => s.trim());
        });
}

function renderTable(rows) {
    const tbody = document.querySelector("#dictTable tbody");
    tbody.innerHTML = "";
    rows.forEach(cols => {
        if (cols.length >= 3) {
            const tr = document.createElement("tr");
            tr.innerHTML = `
                <td>${cols[0]}</td>
                <td>${cols[1]}</td>
                <td>${cols[2]}</td>
            `;
            tbody.appendChild(tr);
        }
    });
}
</script>


</body>

</html>
