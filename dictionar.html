<!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="UTF-8">
<title>Dic»õionar ‚Äì Auto CSV din folderul curent</title>
<style>
    body { font-family: Arial; margin: 20px; }
    table { border-collapse: collapse; width: 100%; margin-top: 20px; }
    th, td { border: 1px solid #888; padding: 8px; }
    th { background: #eee; }
</style>
</head>

<body>
<h2>Dic»õionar √ÆncƒÉrcat automat din CSV (folderul curent)</h2>

<table id="dictTable">
    <thead>
        <tr>
            <th>Coloana 1</th>
            <th>Coloana 2</th>
            <th>Coloana 3</th>
        </tr>
    </thead>
    <tbody></tbody>
</table>

<script>
// üîΩ Numele fi»ôierului CSV aflat √Æn ACELA»òI director cu HTML-ul
const CSV_FILE = "dictionary.csv";

// La deschiderea paginii
window.onload = () => {
    loadCSV();
};

// Cite»ôte fi»ôierul CSV din calea curentƒÉ
function loadCSV() {
    fetch(CSV_FILE)
        .then(r => {
            if (!r.ok) throw new Error("HTTP " + r.status);
            return r.text();
        })
        .then(text => {
            const rows = csvToArray(text);
            renderTable(rows);
        })
        .catch(err => {
            console.error("Eroare la √ÆncƒÉrcarea CSV:", err);
            alert("Nu s-a putut √ÆncƒÉrca dictionary.csv\nAsigurƒÉ-te cƒÉ este √Æn acela»ôi folder cu HTML-ul.");
        });
}

// Conversie CSV ‚Üí array
function csvToArray(text) {
    return text
        .split(/\r?\n/)
        .filter(line => line.trim().length > 0)
        .map(line => line.split(",").map(col => col.trim()));
}

// Afi»ôeazƒÉ tabelul
function renderTable(rows) {
    const tbody = document.querySelector("#dictTable tbody");
    tbody.innerHTML = "";
    rows.forEach(cols => {
        if (cols.length >= 3) {
            const tr = document.createElement("tr");
            tr.innerHTML = `
                <td>${escapeHtml(cols[0])}</td>
                <td>${escapeHtml(cols[1])}</td>
                <td>${escapeHtml(cols[2])}</td>
            `;
            tbody.appendChild(tr);
        }
    });
}

// Protec»õie HTML
function escapeHtml(s) {
    return String(s)
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
}
</script>

</body>
</html>